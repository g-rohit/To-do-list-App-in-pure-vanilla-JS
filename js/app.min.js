function loadEventListeners(){document.addEventListener("DOMContentLoaded",loadTasks),form.addEventListener("submit",addTask),taskList.addEventListener("click",removeTask),clearBtn.addEventListener("click",clearAllTasks),filter.addEventListener("keyup",filterTasks)}function loadTasks(){let e;e=null===localStorage.getItem("todoList")?[]:JSON.parse(localStorage.getItem("todoList")),e.forEach(e=>{const t=document.createElement("li");t.className="collection-item",t.innerHTML=e;const o=document.createElement("a");o.setAttribute("href","#"),o.className="delete-item secondary-content red-text  ",o.innerHTML='<i class="fal fa-trash-alt"></i>',t.appendChild(o),taskList.appendChild(t)})}function addTask(e){if(""===taskInput.value)emptyInput.innerHTML="Please write a new Task and then click on Add";else{emptyInput.innerHTML="",clearInputErr.innerHTML="",console.log(`Task added: ${taskInput.value}`);const e=document.createElement("li");e.className="collection-item ",e.innerHTML=taskInput.value;const t=document.createElement("a");t.setAttribute("href","#"),t.className="delete-item secondary-content red-text  ",t.innerHTML='<i class="fal fa-trash-alt"></i>',e.appendChild(t),taskList.appendChild(e),addToLocalStorage(taskInput.value),taskInput.value=""}e.preventDefault()}function addToLocalStorage(e){let t;console.log("input task incoming: "+e),t=null===localStorage.getItem("todoList")?[]:JSON.parse(localStorage.getItem("todoList")),console.log(`task to be pushed: ${e}`),t.push(e),console.log(`todoList: ${t}`),localStorage.setItem("todoList",JSON.stringify(t))}function removeTask(e){e.target.parentElement.classList.contains("delete-item")&&confirm("Are you sure to delete?")&&(console.log(`Task deleted: ${e.target.parentElement.parentElement.outerText}`),e.target.parentElement.parentElement.remove(),removeTasksFromLocalStorage(e.target.parentElement.parentElement)),e.preventDefault()}function removeTasksFromLocalStorage(e){let t;t=null===localStorage.getItem("todoList")?[]:JSON.parse(localStorage.getItem("todoList")),t.forEach((o,n)=>{e.textContent===o&&t.splice(n,1)}),localStorage.setItem("todoList",JSON.stringify(t))}function clearAllTasks(e){e.preventDefault(),0!=taskList.childElementCount?(clearInputErr.innerHTML="",confirm("Are you sure to delete?")&&(console.log("All tasks deleted"),taskList.innerHTML="",clearAllfromLocalStorage())):clearInputErr.innerHTML="Nothing to delete"}function clearAllfromLocalStorage(){localStorage.clear()}function filterTasks(e){const t=e.target.value.toLowerCase();document.querySelectorAll(".collection-item").forEach(e=>{const o=e.firstChild.textContent.toLowerCase();console.log(o),-1!=o.indexOf(t)?e.style.display="block":e.style.display="none"})}let form=document.querySelector("#task-form"),taskList=document.querySelector(".collection"),clearBtn=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task"),emptyInput=document.querySelector("#emptyInput"),clearInputErr=document.querySelector("#taskListDelErr"),actionBtn1=document.querySelector("#actionBtn1"),actionBtn2=document.querySelector("#actionBtn2");loadEventListeners();